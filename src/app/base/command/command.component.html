<div (click)="toggleExtendedInfo()" class="flex lg:pl-14 md:pl-7 sm:pl-7 pl-5 pt-0.5 pb-1"
    [ngClass]="{'bg-[#f0f8ff0d]' : index % 2 !== 0, 'items-center' : !hidden[index], 'items-start' : hidden[index]}">
    <div class="w-5/12 min-max-w-5-12 flex justify-start items-center lg:mr-14 md:mr-7 sm:mr-7 mr-5">
        <div (click)="copy(); $event.stopPropagation()"
            class="flex justify-start items-center lg:mr-6 md:mr-6 sm:mr-6 mr-3 mt-0.5 cursor-pointer rounded-full fast-transition">
            <div [class.clicked]="commandService.activeItems()[index] === true" class="w-3 h-3 flex justify-center items-center
                    rounded-full border-2 border-[#ededede6] bg-[#01071d] hover:bg-white fast-transition"
                [ngClass]="{'bg-[#f0f8ff0d]' : index % 2 !== 0}">
            </div>
        </div>
        <span class="w-full max-w-full leading-6 text-[#f0f8ff]" [class.truncate]="!hidden[index]">
            <span [innerHTML]="command.title | variable"></span>
            @for (opt of sortedOptions(); track opt.id) {
            @if (isOptionSelected(opt)) {
            <span class="text-[#47aee1]">
                {{ opt.title }}
            </span>
            }
            }
        </span>
    </div>
    <div class="w-7/12 min-max-w-7-12 flex justify-start items-start lg:mr-14 md:mr-7 sm:mr-7 mr-5">
        <span class="w-full max-w-full leading-6 text-[#f0f8ff]" [class.truncate]="!hidden[index]">
            <span [innerHTML]="'(' + (command.description | variable) + (sortedOptions().length ? ',' : ')')"></span>
            @for (opt of sortedOptions(); track opt.id) {
            @if (isOptionSelected(opt)) {
            <span class="text-[#47aee1]">
                {{ opt.description }}
            </span>
            }
            }
        </span>
    </div>
</div>
@if (hidden[index] && (command.option.length || command.alternative.length || command.example || command.tooltip)) {
<div class="flex items-center lg:pl-14 md:pl-7 sm:pl-7 pl-5 pb-0.5" [ngClass]="{'bg-[#f0f8ff0d]' : index % 2 !== 0}">
    <div class="w-5/12 min-max-w-5-12 flex flex-col justify-start items-start lg:mr-14 md:mr-7 sm:mr-7 mr-5">
        @if (command.option.length) {
        <div class="flex ml-9">
            <span class="w-full max-w-full leading-6 text-sm text-[#f0f8ffbf]">
                Options
            </span>
        </div>
        }
        @if (command.alternative.length) {
        <div class="flex ml-9">
            <span class="w-full max-w-full leading-6 text-sm text-[#f0f8ffbf]">
                Alternatives
            </span>
        </div>
        }
        @if (command.example) {
        <div class="flex ml-9">
            <span class="w-full max-w-full leading-6 text-sm text-[#f0f8ffbf]">
                Example
            </span>
        </div>
        }
        @if (command.tooltip) {
        <div class="flex ml-9">
            <span class="w-full max-w-full leading-6 text-sm text-[#f0f8ffbf]">
                Tooltip
            </span>
        </div>
        }
    </div>
    <div class="w-7/12 min-max-w-7-12 flex flex-col justify-start items-start lg:mr-14 md:mr-7 sm:mr-7 mr-5">
        @if (command.option.length) {
        <div class="flex gap-2">
            @for (opt of command.option; track opt.id; let i = $index) {
            <span (click)="toggleOption(opt)" class="px-1 py-0.25 rounded text-xs font-medium cursor-pointer
                border default-transition hover:bg-[#f0f8ff] hover:text-[#01071d]" 
                [class.bg-[#f0f8ff]]="isOptionSelected(opt)" [class.text-[#01071d]]="isOptionSelected(opt)">
                {{ opt.title }}
            </span>
            }
        </div>
        }
        @if (command.alternative.length) {
        <div class="flex gap-2">
            @for (alt of command.alternative; track alt.id; let i = $index) {
            <span class="leading-6 text-sm text-[#f0f8ffbf] cursor-pointer hover:text-[#f0f8ff]">
                {{ alt.title }}
            </span>
            }
        </div>
        }
        @if (command.example) {
        <div class="flex">
            <span [innerHTML]="command.example" class="leading-6 text-sm text-[#f0f8ffbf]">
            </span>
        </div>
        }
        @if (command.tooltip) {
        <div class="flex">
            <span [innerHTML]="command.tooltip" class="leading-6 text-sm text-[#f0f8ffbf]">
            </span>
        </div>
        }
    </div>
</div>
}